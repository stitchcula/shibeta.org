"use strict";function stopBubleUp(s){s=s||window.event,s.stopPropagation()}function resTabButtonsBind(s){s||(s="#ctbox .resTab:not(:first)"),$(s).find(".resDel").unbind("click").click(function(s){stopBubleUp(s);var t=$(this);if(this.ifConfirm)if($(this).closest(".resTab.ctCreateFlag").length)$(this).closest(".resTab").remove(),$("#ctheader i:eq(0)").fadeIn(500);else{var e=$(this).closest(".resTab").find("p:first")[0].innerHTML;$.ajax({url:"/ct?safe=0&id="+e+"&rd="+Math.random().toString(36).substr(2),type:"DELETE",success:function(s,e){200==s.result&&t.closest(".resTab").remove(),403==s.result&&console.log(s)}})}else{$(this).find("p").html("确定删除？"),$(this).toggleClass("onWarnConfirm",!0),this.ifConfirm=1;var t=$(this);setTimeout(function(){t.each(function(){this.ifConfirm=0,$(this).find("p").html("删除合同"),$(this).removeClass("onWarnConfirm")})},2e3)}}),$(s).find(".resReset").click(function(s){stopBubleUp(s);var t=$(this).closest(".resTab").find("input");if($(this).closest(".resTab.ctCreateFlag").length)for(var e=0;e<t.length;e++)t[e].value=null;else{var a=$(this).closest(".resTab").find("p:first")[0].innerHTML;$.getJSON("/ct?pg=1&kw="+a+"&rd="+Math.random().toString(36).substr(2),function(s,e){if("success"==e){var a=[s[0].name,s[0].id,s[0].ext.partys[0],s[0].ext.partys[1],s[0].ext.exp,s[0].ext.money,s[0].ext.time,s[0].ext.location,s[0].ext.rprs[0],s[0].ext.rprs[1],s[0].status];t[0].value=a[0],t[1].value=a[2],t[2].value=a[3],t[3].value=a[4][0],t[4].value=a[4][1];for(var n=5;n<t.length;n++)t[n].value=a[n]}})}}),$(s).find(".resPut").unbind("click").click(function(s){stopBubleUp(s);var t=$(this).closest(".resTab").find("input"),e=$(this);if($(this).closest(".resTab.ctCreateFlag").length)$.post("/ct?rd="+Math.random().toString(36).substr(2),{name:t[0].value,a:t[1].value,b:t[2].value,money:t[5].value,begin:t[3].value,end:t[4].value,location:t[7].value,aa:t[8].value,bb:t[9].value,time:t[6].value},function(s,t){"success"==t&&$.getJSON("/ct?pg=1&kw="+s.id+"&rd="+Math.random().toString(36).substr(2),function(s,t){"success"==t&&(resTabAdd(1,[s[0].name,s[0].id,s[0].ext.partys[0],s[0].ext.partys[1],s[0].ext.exp,s[0].ext.money,s[0].ext.time,s[0].ext.location,s[0].ext.rprs[0],s[0].ext.rprs[1],s[0].status,s[0].key]),e.closest(".resTab").remove())})});else{var a=$(this).closest(".resTab").find("p:first")[0].innerHTML;$.ajax({url:"/ct?rd="+Math.random().toString(36).substr(2),type:"PUT",data:{id:a,name:t[0].value,a:t[1].value,b:t[2].value,money:t[5].value,begin:t[3].value,end:t[4].value,location:t[7].value,aa:t[8].value,bb:t[9].value,time:t[6].value},success:function(s,t){"success"==t&&$.getJSON("/ct?pg=1&kw="+a+"&rd="+Math.random().toString(36).substr(2),function(s,t){"success"==t&&(resTabAdd(1,[s[0].name,s[0].id,s[0].ext.partys[0],s[0].ext.partys[1],s[0].ext.exp,s[0].ext.money,s[0].ext.time,s[0].ext.location,s[0].ext.rprs[0],s[0].ext.rprs[1],s[0].status,s[0].key]),e.closest(".resTab").remove())})}})}}),$(s).find(".resGive").unbind("click").click(function(s){stopBubleUp(s);var t=$(this).closest(".resTab").find("input"),e=$(this);$(this).closest(".resTab.ctCreateFlag").length&&$.post("/ct?rd="+Math.random().toString(36).substr(2),{name:t[0].value,a:t[1].value,b:t[2].value,money:t[5].value,begin:t[3].value,end:t[4].value,location:t[7].value,aa:t[8].value,bb:t[9].value,time:t[6].value,ifGive:1},function(s,t){"success"==t&&$.getJSON("/ct?pg=1&kw="+s.id+"&rd="+Math.random().toString(36).substr(2),function(s,t){"success"==t&&(resTabAdd(1,[s[0].name,s[0].id,s[0].ext.partys[0],s[0].ext.partys[1],s[0].ext.exp,s[0].ext.money,s[0].ext.time,s[0].ext.location,s[0].ext.rprs[0],s[0].ext.rprs[1],s[0].status,s[0].key]),e.closest(".resTab").remove(),$("#ctheader i:eq(0)").fadeIn(500))})})}),$(s).find("p:eq(4)").unbind("click").click(function(){})}function resTabBind(s){s||(s="#ctbox .resTab:not(:first)"),$(s).unbind("click").click(function(){console.log(this.ifmark),this.ifmark?($(this).addClass("resTab_").removeClass("resTab__"),this.ifmark=0):($(this).removeClass("resTab_").addClass("resTab__"),this.ifmark=1)}),$(s).find(".resi").unbind("click").click(function(s){stopBubleUp(s),this.ifSelect?($(this).addClass("fa-circle-o").removeClass("fa-check-circle-o"),this.ifSelect=0):($(this).addClass("fa-check-circle-o").removeClass("fa-circle-o"),this.ifSelect=1)}),$("#ctbox .resTab .input").unbind("click").click(function(s){stopBubleUp(s)}),resTabButtonsBind(s)}function resTabCreate(s,t){var e=new Date(t[10][1]),a=t[10][0]?e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日":"未授权";return $(s).append('<table class="resTab resTab_"><tr class="resTr"><td width="32" class="resTd"><i align="center" class="resi fa fa-circle-o"></i></td><td width="130" class="resTd"><p align="center" class="resp">'+t[1]+'</p></td><td width="300" class="resTd"><p align="center" class="resp">'+t[0]+'</p></td><td width="100" class="resTd"><p align="center" class="resp">'+t[2]+'</p></td><td width="120" class="resTd"><p align="center" class="resp">'+a+'</p></td><td class="resTd"><table border="1" cellspacing="0" cellpadding="0" class="resTab1"><tr><td width="555" colspan="4" class="resTd1"><div class="ctInputDiv"><input value="'+t[0]+'" class="input"></div></td></tr><tr class="resTr2"><td width="555" colspan="4"><p align="right">合同编号:'+t[1]+'</p></td></tr><tr><td width="91" class="resTd3"><p align="center">甲&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;方</p></td><td width="200" class="resTd4"><input value="'+t[2]+'" class="input"></td><td width="91" class="resTd3"><p align="center">乙&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;方</p></td><td width="200" class="resTd4"><input value="'+t[3]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">有效期限</p></td><td width="300" class="resTd4 resTd7"><div><div class="pure-u-11-24"><input type="date" class="input" value="'+t[4][0]+'"></div><div class="pure-u-1-12"><p>到</p></div><div class="pure-u-11-24"><input type="date" class="input" value="'+t[4][1]+'"></div></div></td><td width="91" class="resTd3"><p align="center">合同金额</p></td><td width="100" class="resTd4 resTd6"><input value="'+t[5]+'" type="number" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">签订时间</p></td><td width="200" class="resTd4"><input type="date" class="input" value="'+t[6]+'"></td><td width="91" class="resTd3"><p align="center">签订地点</p></td><td width="200" class="resTd4"><input value="'+t[7]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">甲方代表</p></td><td width="200" class="resTd4"><input value="'+t[8]+'" class="input"></td><td width="91" class="resTd3"><p align="center">乙方代表</p></td><td width="200" class="resTd4"><input value="'+t[9]+'" class="input"></td></tr><tr class="resTr5"><td width="555" colspan="4"><p align="right">授权时间:'+a+'</p></td></tr></table><div class="onbuttons"><div value="'+(t[10][0]?"":t[11])+'"  class="resGive onbutton '+(t[10][0]?"onRefuse ":"onGo ")+'"><p class="onbuttoni">'+(t[10][0]?"已授权 ":"确定授权 ")+'</p></div><div class="resPut onbutton onGo"><p class="onbuttoni">保存修改</p></div><div class="resReset onbutton onWarn"><p class="onbuttoni">重置修改</p></div><div class="resDel onbutton onWarn"><p class="onbuttoni">删除合同</p></div></div></td></tr></table>'),1}function resTabClear(){$("#ctbox .resTab:not(:first)").remove()}function resTabFlash(s,t){var e=encodeURI($("#ctheader input").val());$.getJSON("/ct?pg="+t+"&kw="+e+"&rd="+Math.random().toString(36).substr(2),function(t,e){if("success"==e){s&&resTabClear();for(var a=t.length,n=11>a?a:10,d=0;n>d;d++)resTabCreate("#ctbox",[t[d].name,t[d].id,t[d].ext.partys[0],t[d].ext.partys[1],t[d].ext.exp,t[d].ext.money,t[d].ext.time,t[d].ext.location,t[d].ext.rprs[0],t[d].ext.rprs[1],t[d].status,t[d].key]),d==n-1&&resTabBind(),a>10?$("#ctNext").fadeIn(500):$("#ctNext").fadeOut(500)}})}function resTabAdd(s,t){if(s){var e;if(t){var a=new Date(t[10][1]);e=t[10][0]?a.getFullYear()+"年"+(a.getMonth()+1)+"月"+a.getDate()+"日":"未授权",$("#ctbox .resTab:first").after('<table class="resTab resTab_"><tr class="resTr"><td width="32" class="resTd"><i align="center" class="resi fa fa-circle-o"></i></td><td width="130" class="resTd"><p align="center" class="resp">'+t[1]+'</p></td><td width="300" class="resTd"><p align="center" class="resp">'+t[0]+'</p></td><td width="100" class="resTd"><p align="center" class="resp">'+t[2]+'</p></td><td width="120" class="resTd"><p align="center" class="resp">'+e+'</p></td><td class="resTd"><table border="1" cellspacing="0" cellpadding="0" class="resTab1"><tr><td width="555" colspan="4" class="resTd1"><div class="ctInputDiv"><input value="'+t[0]+'" class="input"></div></td></tr><tr class="resTr2"><td width="555" colspan="4"><p align="right">合同编号:'+t[1]+'</p></td></tr><tr><td width="91" class="resTd3"><p align="center">甲&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;方</p></td><td width="200" class="resTd4"><input value="'+t[2]+'" class="input"></td><td width="91" class="resTd3"><p align="center">乙&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;方</p></td><td width="200" class="resTd4"><input value="'+t[3]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">有效期限</p></td><td width="300" class="resTd4 resTd7"><div><div class="pure-u-11-24"><input type="date" class="input" value="'+t[4][0]+'"></div><div class="pure-u-1-12"><p>到</p></div><div class="pure-u-11-24"><input type="date" class="input" value="'+t[4][1]+'"></div></div></td><td width="91" class="resTd3"><p align="center">合同金额</p></td><td width="100" class="resTd4 resTd6"><input value="'+t[5]+'" type="number" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">签订时间</p></td><td width="200" class="resTd4"><input type="date" class="input" value="'+t[6]+'"></td><td width="91" class="resTd3"><p align="center">签订地点</p></td><td width="200" class="resTd4"><input value="'+t[7]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">甲方代表</p></td><td width="200" class="resTd4"><input value="'+t[8]+'" class="input"></td><td width="91" class="resTd3"><p align="center">乙方代表</p></td><td width="200" class="resTd4"><input value="'+t[9]+'" class="input"></td></tr><tr class="resTr5"><td width="555" colspan="4"><p align="right">授权时间:'+e+'</p></td></tr></table><div class="onbuttons"><div value="'+(t[10][0]?"":t[11])+'" class="resGive onbutton '+(t[10][0]?"onRefuse ":"onGo ")+'"><p class="onbuttoni">'+(t[10][0]?"已授权 ":"确定授权 ")+'</p></div><div class="resPut onbutton onGo"><p class="onbuttoni">保存修改</p></div><div class="resReset onbutton onWarn"><p class="onbuttoni">重置修改</p></div><div class="resDel onbutton onWarn"><p class="onbuttoni">删除合同</p></div></div></td></tr></table>'),resTabBind("#ctbox .resTab:eq(1)")}else{var a=new Date,n=a.getFullYear()+"-"+(a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1)+"-"+a.getDate();t=["","未生成","","湖南浩盛消防科技有限公司",[n,n],"",n,"","","",["",""],""],e="未授权",$("#ctbox .resTab:first").after('<table class="resTab ctCreateFlag resTab__"><tr class="resTr"><td width="32" class="resTd"><i align="center" class="resi fa fa-circle-o"></i></td><td width="130" class="resTd"><p align="center" class="resp">'+t[1]+'</p></td><td width="300" class="resTd"><p align="center" class="resp">'+t[0]+'</p></td><td width="100" class="resTd"><p align="center" class="resp">'+t[2]+'</p></td><td width="120" class="resTd"><p align="center" class="resp">'+e+'</p></td><td class="resTd"><table border="1" cellspacing="0" cellpadding="0" class="resTab1"><tr><td width="555" colspan="4" class="resTd1"><div class="ctInputDiv"><input placeholder="点击填写合同名称" value="'+t[0]+'" class="input"></div></td></tr><tr class="resTr2"><td width="555" colspan="4"><p align="right">合同编号:'+t[1]+'</p></td></tr><tr><td width="91" class="resTd3"><p align="center">甲&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;方</p></td><td width="200" class="resTd4"><input value="'+t[2]+'" class="input"></td><td width="91" class="resTd3"><p align="center">乙&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;方</p></td><td width="200" class="resTd4"><input value="'+t[3]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">有效期限</p></td><td width="300" class="resTd4 resTd7"><div><div class="pure-u-11-24"><input type="date" class="input" value="'+t[4][0]+'"></div><div class="pure-u-1-12"><p>到</p></div><div class="pure-u-11-24"><input type="date" class="input" value="'+t[4][1]+'"></div></div></td><td width="91" class="resTd3"><p align="center">合同金额</p></td><td width="100" class="resTd4 resTd6"><input value="'+t[5]+'" type="number" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">签订时间</p></td><td width="200" class="resTd4"><input type="date" class="input" value="'+t[6]+'"></td><td width="91" class="resTd3"><p align="center">签订地点</p></td><td width="200" class="resTd4"><input value="'+t[7]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">甲方代表</p></td><td width="200" class="resTd4"><input value="'+t[8]+'" class="input"></td><td width="91" class="resTd3"><p align="center">乙方代表</p></td><td width="200" class="resTd4"><input value="'+t[9]+'" class="input"></td></tr><tr class="resTr5"><td width="555" colspan="4"><p align="right">授权时间:'+e+'</p></td></tr></table><div class="onbuttons"><div class="resGive onbutton onGo"><p class="onbuttoni">确定授权</p></div><div class="resPut onbutton onGo"><p class="onbuttoni">保存修改</p></div><div class="resReset onbutton onWarn"><p class="onbuttoni">重置修改</p></div><div class="resDel onbutton onWarn"><p class="onbuttoni">删除合同</p></div></div></td></tr></table>'),resTabButtonsBind("#ctbox .resTab:eq(1)")}}}function resTabDel(s,t){if(s)if($(t).closest(".resTab.ctCreateFlag").length)$(t).closest(".resTab").remove(),$("#ctheader i:eq(0)").fadeIn(500);else{var e=$(t).closest(".resTab").find("p:first")[0].innerHTML;$.ajax({url:"/ct?safe=0&id="+e+"&rd="+Math.random().toString(36).substr(2),type:"DELETE",success:function(s,e){200==s.result&&$(t).closest(".resTab").remove(),403==s.result&&console.log(s)}})}else $(t).closest(".resTab").remove()}function usrTabButtonsBind(s){s||(s="#usrbox .resTab:not(:first)"),$(s).find(".resDel").unbind("click").click(function(s){stopBubleUp(s),usrTabDel(1,this)}),$(s).find(".resReset").unbind("click").click(function(s){stopBubleUp(s);var t=$(this).closest(".resTab").find("input");if(t[7]=$(this).closest(".resTab").find("select")[0],$(this).closest(".resTab.usrCreateFlag").length)for(var e=0;e<t.length;e++)t[e].value=null;else{var a=$(this).closest(".resTab").find("p")[4].innerHTML.substr(4,6);$.getJSON("/usrs?pg=1&kw="+a+"&rd="+Math.random().toString(36).substr(2),function(s,e){if("success"==e)for(var a=[s[0].name,s[0].usr,s[0].idf,"",s[0].tel,s[0].em,s[0].job,s[0].pm],n=0;n<t.length;n++)t[n].value=a[n]})}}),$(s).find(".resPut").unbind("click").click(function(s){stopBubleUp(s);var t=$(this).closest(".resTab").find("input");t[7]=$(this).closest(".resTab").find("select")[0];var e=$(this);if($(this).closest(".resTab.usrCreateFlag").length){var a=t[3].value?t[3].value:t[2].value.substr(t[2].value.length-6,6);$.post("/usrs?rd="+Math.random().toString(36).substr(2),{name:t[0].value,usr:t[1].value,idf:t[2].value,pwd:hex_sha1(a),tel:t[4].value,em:t[5].value,job:t[6].value,pm:t[7].value},function(s,t){"success"==t&&$.getJSON("/usrs?pg=1&kw="+s.uin+"&rd="+Math.random().toString(36).substr(2),function(s,t){"success"==t&&(usrTabAdd(1,[s[0].uin,s[0].name,s[0].usr,s[0].idf,"",s[0].tel,s[0].em,s[0].job,s[0].pm,s[0].time]),e.closest(".resTab").remove(),$("#usrheader i:eq(0)").fadeIn(500))})})}else{var n=$(this).closest(".resTab").find("p")[4].innerHTML.substr(4,6);$.ajax({url:"/usrs?rd="+Math.random().toString(36).substr(2),type:"PUT",data:{uin:n,name:t[0].value,usr:t[1].value,idf:t[2].value,pwd:hex_sha1(t[3].value),tel:t[4].value,em:t[5].value,job:t[6].value,pm:t[7].value},success:function(s,t){"success"==t&&$.getJSON("/usrs?pg=1&kw="+n+"&rd="+Math.random().toString(36).substr(2),function(s,t){"success"==t&&(usrTabAdd(1,[s[0].uin,s[0].name,s[0].usr,s[0].idf,"",s[0].tel,s[0].em,s[0].job,s[0].pm,s[0].time]),e.closest(".resTab").remove())})}})}}),$(s).find(".resGive").unbind("click").click(function(s){stopBubleUp(s);$(this).closest(".resTab").find("input");$(this).closest(".resTab.usrCreateFlag").length})}function usrTabBind(s){s||(s="#usrbox .resTab:not(:first)"),$(s).unbind("click").click(function(){console.log(this.ifmark),this.ifmark?($(this).removeClass("resTab__"),this.ifmark=0):($(this).addClass("resTab__"),this.ifmark=1)}),$(s).find(".resi").unbind("click").click(function(s){stopBubleUp(s),this.ifSelect?($(this).addClass("fa-circle-o").removeClass("fa-check-circle-o"),this.ifSelect=0):($(this).addClass("fa-check-circle-o").removeClass("fa-circle-o"),this.ifSelect=1)}),$("#usrbox .resTab .input").unbind("click").click(function(s){stopBubleUp(s)}),$("#usrbox .resTab .select").unbind("click").click(function(s){stopBubleUp(s)}),usrTabButtonsBind(s)}function usrTabCreate(s,t){var e=new Date(t[9]),a=e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日";return $(s).append('<table class="resTab"><tr class="resTr"><td width="32" class="resTd"><i align="center" class="resi fa fa-circle-o"></i></td><td width="100" class="resTd"><p align="center" class="resp">'+t[1]+'</p></td><td width="240" class="resTd"><p align="center" class="resp">'+t[3]+'</p></td><td width="160" class="resTd"><p align="center" class="resp">'+t[2]+'</p></td><td width="120" class="resTd"><p align="center" class="resp">'+(t[8]?"管理员":"委托代理人")+'</p></td><td class="resTd"><table border="0" cellspacing="0" cellpadding="0" class="resTab1"><tr class="resTr2"><td width="555" colspan="4"><p align="right">UIN:'+t[0]+'</p></td></tr><tr><td width="91" class="resTd3"><p align="center">真实姓名</p></td><td width="200" class="resTd4"><input value="'+t[1]+'" class="input"></td><td width="91" class="resTd3"><p align="center">用户名</p></td><td width="200" class="resTd4"><input placeholder="默认为UIN" value="'+t[2]+'" max="16" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">证件号码*</p></td><td width="200" class="resTd4"><input value="'+t[3]+'" max="18" class="input"></td><td width="91" class="resTd3"><p align="center">密&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;码*</p></td><td width="200" class="resTd4"><input placeholder="默认为身份证后六位" value="'+t[4]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">Tel</p></td><td width="200" class="resTd4"><input value="'+t[5]+'" max="11" class="input"></td><td width="91" class="resTd3"><p align="center">Email</p></td><td width="200" class="resTd4"><input value="'+t[6]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">职&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;务</p></td><td width="200" class="resTd4"><input value="'+t[7]+'" class="input"></td><td width="91" class="resTd3"><p align="center">角&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;色</p></td><td width="200" class="resTd4"><select class="select"><option value="0" '+(t[8]?"":'selected="selected"')+'>委托代理人</option><option value="1" '+(t[8]?'selected="selected"':"")+'>管理员</option></select></td></tr><tr class="resTr5"><td width="555" colspan="4"><p align="right">注册日期:'+a+'</p></td></tr></table><div class="onbuttons"><div class="resGive onbutton onRefuse"><p class="onbuttoni">通知</p></div><div class="resPut onbutton onGo"><p class="onbuttoni">保存</p></div><div class="resReset onbutton onWarn"><p class="onbuttoni">重置</p></div><div class="resDel onbutton onWarn"><p class="onbuttoni">删除</p></div></div></td></tr></table>'),1}function usrTabClear(){$("#usrbox .resTab:not(:first)").remove()}function usrTabFlash(s,t){var e=encodeURI($("#usrheader input").val());$.getJSON("/usrs?pg="+t+"&kw="+e+"&rd="+Math.random().toString(36).substr(2),function(t,e){if("success"==e){s&&usrTabClear();for(var a=t.length,n=11>a?a:10,d=0;n>d;d++)usrTabCreate("#usrbox",[t[d].uin,t[d].name,t[d].usr,t[d].idf,"",t[d].tel,t[d].em,t[d].job,t[d].pm,t[d].time]),d==n-1&&usrTabBind(),a>10?$("#usrNext").fadeIn(500):$("#usrNext").fadeOut(500)}})}function usrTabAdd(s,t){if(s)if(t){var e=new Date(t[9]),a=e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日";$("#usrbox .resTab:first").after('<table class="resTab"><tr class="resTr"><td width="32" class="resTd"><i align="center" class="resi fa fa-circle-o"></i></td><td width="100" class="resTd"><p align="center" class="resp">'+t[1]+'</p></td><td width="240" class="resTd"><p align="center" class="resp">'+t[3]+'</p></td><td width="160" class="resTd"><p align="center" class="resp">'+t[2]+'</p></td><td width="120" class="resTd"><p align="center" class="resp">'+(t[8]?"管理员":"委托代理人")+'</p></td><td class="resTd"><table border="0" cellspacing="0" cellpadding="0" class="resTab1"><tr class="resTr2"><td width="555" colspan="4"><p align="right">UIN:'+t[0]+'</p></td></tr><tr><td width="91" class="resTd3"><p align="center">真实姓名</p></td><td width="200" class="resTd4"><input value="'+t[1]+'" class="input"></td><td width="91" class="resTd3"><p align="center">用户名</p></td><td width="200" class="resTd4"><input placeholder="默认为UIN" value="'+t[2]+'" max="16" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">证件号码*</p></td><td width="200" class="resTd4"><input value="'+t[3]+'" max="18" class="input"></td><td width="91" class="resTd3"><p align="center">密&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;码*</p></td><td width="200" class="resTd4"><input placeholder="默认为身份证后六位" value="'+t[4]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">Tel</p></td><td width="200" class="resTd4"><input value="'+t[5]+'" max="11" class="input"></td><td width="91" class="resTd3"><p align="center">Email</p></td><td width="200" class="resTd4"><input value="'+t[6]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">职&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;务</p></td><td width="200" class="resTd4"><input value="'+t[7]+'" class="input"></td><td width="91" class="resTd3"><p align="center">角&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;色</p></td><td width="200" class="resTd4"><select class="select"><option value="0" '+(t[8]?"":'selected="selected"')+'>委托代理人</option><option value="1" '+(t[8]?'selected="selected"':"")+'>管理员</option></select></td></tr><tr class="resTr5"><td width="555" colspan="4"><p align="right">注册日期:'+a+'</p></td></tr></table><div class="onbuttons"><div class="resGive onbutton onRefuse"><p class="onbuttoni">通知</p></div><div class="resPut onbutton onGo"><p class="onbuttoni">保存</p></div><div class="resReset onbutton onWarn"><p class="onbuttoni">重置</p></div><div class="resDel onbutton onWarn"><p class="onbuttoni">删除</p></div></div></td></tr></table>'),usrTabBind("#usrbox .resTab:eq(1)")}else{var e=new Date,a=e.getFullYear()+"年"+(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"月"+e.getDate()+"日";t=["未生成","","","","","","","",0],$("#usrbox .resTab:first").after('<table class="resTab usrCreateFlag resTab__"><tr class="resTr"><td width="32" class="resTd"><i align="center" class="resi fa fa-circle-o"></i></td><td width="100" class="resTd"><p align="center" class="resp">'+t[1]+'</p></td><td width="240" class="resTd"><p align="center" class="resp">'+t[3]+'</p></td><td width="160" class="resTd"><p align="center" class="resp">'+t[2]+'</p></td><td width="120" class="resTd"><p align="center" class="resp">'+(t[8]?"管理员":"委托代理人")+'</p></td><td class="resTd"><table border="0" cellspacing="0" cellpadding="0" class="resTab1"><tr class="resTr2"><td width="555" colspan="4"><p align="right">UIN:'+t[0]+'</p></td></tr><tr><td width="91" class="resTd3"><p align="center">真实姓名</p></td><td width="200" class="resTd4"><input value="'+t[1]+'" class="input"></td><td width="91" class="resTd3"><p align="center">用户名</p></td><td width="200" class="resTd4"><input placeholder="默认为UIN" value="'+t[2]+'" max="16" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">证件号码*</p></td><td width="200" class="resTd4"><input value="'+t[3]+'" max="18" class="input"></td><td width="91" class="resTd3"><p align="center">密&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;码*</p></td><td width="200" class="resTd4"><input placeholder="默认为身份证后六位" value="'+t[4]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">Tel</p></td><td width="200" class="resTd4"><input value="'+t[5]+'" max="11" class="input"></td><td width="91" class="resTd3"><p align="center">Email</p></td><td width="200" class="resTd4"><input value="'+t[6]+'" class="input"></td></tr><tr><td width="91" class="resTd3"><p align="center">职&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;务</p></td><td width="200" class="resTd4"><input value="'+t[7]+'" class="input"></td><td width="91" class="resTd3"><p align="center">角&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;色</p></td><td width="200" class="resTd4"><select class="select"><option value="0" '+(t[8]?"":'selected="selected"')+'>委托代理人</option><option value="1" '+(t[8]?'selected="selected"':"")+'>管理员</option></select></td></tr><tr class="resTr5"><td width="555" colspan="4"><p align="right">注册日期:'+a+'</p></td></tr></table><div class="onbuttons"><div class="resGive onbutton onRefuse"><p class="onbuttoni">通知</p></div><div class="resPut onbutton onGo"><p class="onbuttoni">保存</p></div><div class="resReset onbutton onWarn"><p class="onbuttoni">重置</p></div><div class="resDel onbutton onWarn"><p class="onbuttoni">删除</p></div></div></td></tr></table>'),usrTabButtonsBind("#usrbox .resTab:eq(1)")}}function usrTabDel(s,t){if(s)if($(t).closest(".resTab.usrCreateFlag").length)$(t).closest(".resTab").remove(),$("#usrheader i:eq(0)").fadeIn(500);else{var e=$(t).closest(".resTab").find("p")[4].innerHTML.substr(4,6);$.ajax({url:"/usrs?safe=0&uin="+e+"&rd="+Math.random().toString(36).substr(2),type:"DELETE",success:function(s,e){200==s.result&&$(t).closest(".resTab").remove(),403==s.result&&console.log(s)}})}else $(t).closest(".resTab").remove()}